---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Lista de todas las skills
const skills = [
  { name: 'C', icon: 'devicon-c-plain' },
  { name: 'C#', icon: 'devicon-csharp-plain' },
  { name: 'C++', icon: 'devicon-cplusplus-plain' },
  { name: 'JavaScript', icon: 'devicon-javascript-plain' },
  { name: 'TypeScript', icon: 'devicon-typescript-plain' },
  { name: 'Python', icon: 'devicon-python-plain' },
  { name: 'Astro', icon: 'devicon-astro-plain' },
  { name: 'Bootstrap', icon: 'devicon-bootstrap-plain' },
  { name: 'CSS', icon: 'devicon-css3-plain' },
  { name: 'HTML', icon: 'devicon-html5-plain' },
  { name: 'Next.js', icon: 'devicon-nextjs-plain' },
  { name: 'React', icon: 'devicon-react-original' },
  { name: 'Tailwind CSS', icon: 'devicon-tailwindcss-plain' },
  { name: 'ASP.NET', icon: 'devicon-dotnetcore-plain' },
  { name: 'FastAPI', icon: 'devicon-fastapi-plain' },
  { name: 'Supabase', icon: 'devicon-supabase-plain' },
  { name: 'PostgreSQL', icon: 'devicon-postgresql-plain' },
  { name: 'SQLite', icon: 'devicon-sqlite-plain' },
  { name: 'Git', icon: 'devicon-git-plain' },
  { name: 'Windows Forms', icon: 'devicon-windows8-original' },
  { name: 'Pandas', icon: 'devicon-pandas-plain' },
];
---

<section id="skills" class="py-20 bg-black/50 overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="skills-header section-hidden text-center mb-16">
      <h2 class="text-4xl sm:text-5xl font-bold text-white mb-4">
         Skills
      </h2>
      <p class="text-lg text-gray-400 max-w-2xl mx-auto">
        {lang === 'es'
          ? 'Tecnolog√≠as y herramientas que domino para crear soluciones web modernas y eficientes'
          : 'Technologies and tools I can use to create modern and efficient web solutions'}
      </p>
    </div>

    <!-- Carousel Container -->
    <div class="skills-carousel section-hidden carousel-container relative">
      <div class="carousel-track flex gap-8">
        {/* Primera copia de skills */}
        {skills.map((skill) => (
          <div class="skill-card group flex flex-col items-center gap-3 p-6 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300 hover:scale-110 flex-shrink-0">
            <div class="w-16 h-16 flex items-center justify-center">
              <i class={`${skill.icon} text-6xl`}></i>
            </div>
            <span class="text-sm font-medium text-gray-300 group-hover:text-white transition-colors text-center whitespace-nowrap">
              {skill.name}
            </span>
          </div>
        ))}
        {/* Segunda copia para el efecto infinito */}
        {skills.map((skill) => (
          <div class="skill-card group flex flex-col items-center gap-3 p-6 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300 hover:scale-110 flex-shrink-0">
            <div class="w-16 h-16 flex items-center justify-center">
              <i class={`${skill.icon} text-6xl`}></i>
            </div>
            <span class="text-sm font-medium text-gray-300 group-hover:text-white transition-colors text-center whitespace-nowrap">
              {skill.name}
            </span>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .carousel-container {
    width: 100%;
    overflow: hidden;
    mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
  }

  .carousel-track {
    animation: scroll 60s linear infinite;
    width: fit-content;
  }

  .carousel-track:hover {
    animation-play-state: paused;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
</style>